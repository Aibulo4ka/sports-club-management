# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –°–ø—Ä–∏–Ω—Ç 5 (–ü–ª–∞—Ç–µ–∂–∏)

## –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (3 –º–∏–Ω—É—Ç—ã)

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd "C:\Users\Admin\Documents\3 –∫—É—Ä—Å\–°–µ–º–µ—Å—Ç—Ä 1\–ü–ò\–ö—É—Ä—Å–æ–≤–æ–π_–ø—Ä–æ–µ–∫—Ç"

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
docker-compose exec web python manage.py migrate

# 4. –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
docker-compose exec web python manage.py createsuperuser

# 5. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
# http://localhost:8000
```

## –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç (5 –º–∏–Ω—É—Ç)

### 1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É** (http://localhost:8000/admin):
- –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (Memberships ‚Üí Membership types ‚Üí Add)
  - Name: "–ú–µ—Å—è—á–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç"
  - Price: 3000
  - Duration days: 30
  - Visits limit: –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º (–±–µ–∑–ª–∏–º–∏—Ç)
  - Is active: ‚úÖ

- –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ (Accounts ‚Üí Clients ‚Üí Add):
  - –°–≤—è–∑–∞—Ç—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
  - Is student: ‚úÖ (–¥–ª—è —Å–∫–∏–¥–∫–∏ 20%)

### 2. –¢–µ—Å—Ç –ø–æ–∫—É–ø–∫–∏

1. –í—ã–π—Ç–∏ –∏–∑ –∞–¥–º–∏–Ω–∫–∏, –≤–æ–π—Ç–∏ –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç
2. –ü–µ—Ä–µ–π—Ç–∏: –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã ‚Üí –í—ã–±—Ä–∞—Ç—å "–ú–µ—Å—è—á–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç" ‚Üí –ö—É–ø–∏—Ç—å
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–Ω—É: 3000 √ó 0.8 = **2400 —Ä—É–±** (—Å–∫–∏–¥–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç—É)
4. –ù–∞–∂–∞—Ç—å "–ö—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç"
5. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ "/payments/my/"
6. –ü–ª–∞—Ç–µ–∂ —Å–æ–∑–¥–∞–Ω –≤ —Å—Ç–∞—Ç—É—Å–µ **"–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã"**

### 3. –ò–º–∏—Ç–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã

1. –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∞–¥–º–∏–Ω–∫—É
2. Payments ‚Üí Payments ‚Üí –Ω–∞–π—Ç–∏ —Å–≤–æ–π –ø–ª–∞—Ç–µ–∂
3. –ò–∑–º–µ–Ω–∏—Ç—å:
   - Status: **COMPLETED**
   - Completed at: **—Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞/–≤—Ä–µ–º—è**
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
5. –í—ã–π—Ç–∏, –≤–æ–π—Ç–∏ –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç
6. –ü–µ—Ä–µ–π—Ç–∏: –ú–æ–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã
7. –ê–±–æ–Ω–µ–º–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å **–∞–∫—Ç–∏–≤–µ–Ω**! ‚úÖ

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é

- –ú–µ–Ω—é ‚Üí "–ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π"
- –ü–ª–∞—Ç–µ–∂ –≤ —Å—Ç–∞—Ç—É—Å–µ **"–û–ø–ª–∞—á–µ–Ω–æ"**
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/payments/success/{id}/` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π

---

## –û—Å–Ω–æ–≤–Ω—ã–µ URL

| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | URL |
|----------|-----|
| –ì–ª–∞–≤–Ω–∞—è | http://localhost:8000/ |
| –ê–¥–º–∏–Ω–∫–∞ | http://localhost:8000/admin/ |
| –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã | http://localhost:8000/memberships/catalog/ |
| –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π | http://localhost:8000/payments/my/ |
| API –ø–ª–∞—Ç–µ–∂–µ–π | http://localhost:8000/api/payments/ |
| API –º–æ–∏ –ø–ª–∞—Ç–µ–∂–∏ | http://localhost:8000/api/payments/my/ |

---

## –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å–∫–∏–¥–æ–∫
‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü—ã —É—Å–ø–µ—Ö–∞/–Ω–µ—É–¥–∞—á–∏
‚úÖ –°–≤—è–∑—å —Å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º–∏
‚úÖ API endpoints

‚ùå –†–µ–∞–ª—å–Ω–∞—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ YooKassa (–±—É–¥–µ—Ç –ø–æ–∑–∂–µ)
‚ùå Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–±—É–¥–µ—Ç –ø–æ–∑–∂–µ)

---

## –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
docker-compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker-compose up -d

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f web

# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose exec web bash

# –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec web python manage.py makemigrations

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec web python manage.py migrate
```

---

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: **SPRINT_5_TESTING.md**
